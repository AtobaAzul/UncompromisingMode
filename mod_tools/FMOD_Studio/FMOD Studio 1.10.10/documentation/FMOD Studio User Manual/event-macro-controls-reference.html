<html>
<head>
<title>Event Macro Controls Reference</title>
<link rel="stylesheet" href="style/docs.css">
<link rel="stylesheet" href="style/code_highlight.css">
</head>
<body>
<div class="docs-body">
<div class="manual-toc">
<p>FMOD Studio User Manual 1.10</p>
<ul>
<li><a href="welcome-to-fmod-studio.html">Welcome to FMOD Studio</a></li>
<li><a href="fmod-studio-concepts.html">FMOD Studio Concepts</a></li>
<li><a href="organizing-the-project.html">Organizing the Project</a></li>
<li><a href="authoring-events.html">Authoring Events</a></li>
<li><a href="working-with-instruments.html">Working with Instruments</a></li>
<li><a href="managing-assets.html">Managing Assets</a></li>
<li><a href="getting-events-into-your-game.html">Getting Events into Your Game</a></li>
<li><a href="mixing.html">Mixing</a></li>
<li><a href="profiling.html">Profiling</a></li>
<li><a href="editing-during-live-update.html">Editing During Live Update</a></li>
<li><a href="supporting-downloadable-and-user-generated-content.html">Supporting Downloadable and User-generated Content</a></li>
<li><a href="advanced-topics.html">Advanced Topics</a></li>
<li class="manual-current-chapter manual-active-chapter"><a href="event-macro-controls-reference.html">Event Macro Controls Reference</a><ul>
<li><a href="#how-to-read-this-reference">How to Read This Reference</a></li>
<li><a href="#persistent">Persistent</a></li>
<li><a href="#pitch">Pitch</a></li>
<li><a href="#doppler">Doppler</a></li>
<li><a href="#doppler-scale">Doppler Scale</a></li>
<li><a href="#max-instances">Max Instances</a></li>
<li><a href="#stealing">Stealing</a></li>
<li><a href="#cooldown">Cooldown</a></li>
<li><a href="#priority">Priority</a></li>
</ul>
</li>
<li><a href="plugin-reference.html">Plug-in Reference</a></li>
<li><a href="modulator-reference.html">Modulator Reference</a></li>
<li><a href="built-in-parameters-reference.html">Built-In Parameters Reference</a></li>
<li><a href="scripting-terminal-reference.html">Scripting</a></li>
<li><a href="scripting-api-reference.html">Scripting API Reference</a></li>
<li><a href="keyboard-shortcut-reference.html">Keyboard Shortcut Reference</a></li>
<li><a href="glossary.html">Glossary</a></li>
<li><a href="appendix-a-celeste.html">Appendix: Celeste Getting Started Guide</a></li>
</ul>
</div>
<div class="manual-content">
<h1>13. Event Macro Controls Reference</h1>
<p>Each event in FMOD Studio has macro controls to provide further control over your event's pitch, how your events are created, how many <a href="glossary.html#event-instance">event instances</a> can exist, and how they behave when too many instances are created in game.</p>
<p><img alt="Event Macros" src="images/eventMacros.png" /></p>
<h2 id="how-to-read-this-reference"><a href="#how-to-read-this-reference">13.1 How to Read This Reference</a></h2>
<dl>
<dt><strong>Property</strong> (Control)</dt>
<dd>The name of the property as it appears in FMOD Studio and the type of control it is manipulated by. The types of controls are:<br />
<strong>Button</strong>: Click on a button to execute a command. Some buttons are toggles that are colored yellow to indicate if they are active.<br />
<strong>Dial</strong>: A control knob. Click and drag up and down to adjust the property's value.<br />
<strong>Dropdown</strong>: A menu where you select a value from a list. The current selection is displayed in the collapsed dropdown menu.<br />
<strong>Number Box</strong>: A box displaying the value of the property. Click on the box's edit triangle to manually enter a value, or click and drag the value to make adjustments. Double click on the number box to reset it's value.</dd>
<dt><strong>Units</strong></dt>
<dd>What the property's unit of measurement is. If a property does not use a unit of measurement no unit will be listed. Valid units are:<br />
<strong>st</strong>: Semitones<br />
<strong>%</strong>: Percentage points<br />
<strong>ms</strong>: Milliseconds<br />
<strong>sec</strong>: Seconds</dd>
<dt><strong>Range</strong></dt>
<dd>The minimum and maximum values valid for that property. If a property does not use a range this will not be listed.</dd>
<dt><strong>Link to the API Documentation</strong></dt>
<dd>For more information on the property and its usage in code, a link is provided to the low-level documentation.</dd>
</dl>
<h2 id="persistent"><a href="#persistent">13.2 Persistent</a></h2>
<p><img alt="Persistent" src="images/persistent.png" /></p>
<p>The persistent property is used to keep the event instance playing until it is explicitly stopped.</p>
<p>If the persistent option is enabled, it forces an event to continue playing even when it is not producing audio and would otherwise stop.</p>
<p>If the persistent property is not enabled an event will stop on its own if no <a href="glossary.html#instrument">instruments</a> are <a href="glossary.html#trigger">triggered</a> and the <a href="glossary.html#playback-position">playback position</a> of the <a href="glossary.html#timeline">timeline</a> is beyond the end of the timeline (ie. beyond the end of the last <a href="glossary.html#destination-marker">marker</a> or instrument <a href="glossary.html#trigger-region">trigger region</a>).</p>
<p>The persistent property is used to avoid situations such as an event that will only trigger an instrument once its parameter reaches a certain value, but it is automatically stopped due to no audio being produced. For example, a health event that only produces a heartbeat sound when the parameter monitoring the players health reaches below 20% (remaining silent when healthy).</p>
<p><a href="glossary.html#snapshot">Snapshots</a> always behave in a persistent fashion.</p>
<dl>
<dt><strong>Persistent</strong> (Button)</dt>
<dd>When enabled, it will cause an event to continue playing until explicitly told to stop.</dd>
</dl>
<h2 id="pitch"><a href="#pitch">13.3 Pitch</a></h2>
<p><img alt="Pitch property" src="images/pitch.png" /></p>
<p>The <span class="dead-link" href="glossary.html#pitch">pitch</span class="dead-link"> property of the event adjusts the sample rate of all instruments placed in the <a href="glossary.html#event">event</a>. If any instruments in the event have had their pitch properties altered, this is summed together with the event macro's pitch property.</p>
<p>When adjusting the sample rate in such a manner, the playback speed of the event is affect. This speeds up or slows down the event and therefore raises or lowers the output pitch of the event.</p>
<p>You could use this pitch in game to give the illusion of a fast-forwarding tape when increased, or of bullet time when decreased.</p>
<dl>
<dt><strong>Pitch</strong> (Number Box)</dt>
<dd>Adjusts the playback speed of the event. Measured in semitones (st).<br />
<strong>Units</strong>: st<br />
<strong>Range</strong>: -24 st to 24 st</dd>
</dl>
<h2 id="doppler"><a href="#doppler">13.4 Doppler</a></h2>
<p><img alt="Doppler" src="images/dopplerAndScale.png" /></p>
<p>The <span class="dead-link" href="glossary.html#doppler">Doppler</span class="dead-link"> property provides an automatic adjustment to the event's <a href="#pitch">pitch</a> based on the velocity of the event emitter relative to the <a href="glossary.html#listener">listener</a>. When the event emitter is moving towards the listener, the pitch of the event rises. When the event emitter is moving away from the listener, the pitch of the event lowers. This simulates the Doppler effect experienced by a listener when the relative speed of audio emitters approaches the speed of sound.</p>
<p>The Doppler property requires velocity in order to calculate how much Doppler adjustment needs to be applied. Velocity can be provided by the game engine or by calling <a href="https://www.fmod.com/resources/documentation-api?page=content/generated/FMOD_Studio_EventInstance_Set3DAttributes.html">EventInstance::set3DAttributes</a>. In the case of the Unity and UE4 integrations, this is usually set automatically to match the velocity of the associated <em>rigid body</em>.</p>
<p>Clicking on the Doppler button enables or disables this feature. The amount of pitch adjustment that occurs during the Doppler effect is determined by the <a href="#doppler-scale">scale</a> property.</p>
<p>A common usage of the Doppler is for vehicles passing the listener at high speed.</p>
<dl>
<dt><strong>Doppler</strong> (Button)</dt>
<dd>Enables or disables the Doppler effect on the event.</dd>
</dl>
<p>For more information on the Doppler effect, see the low-level documentation on <a href="https://fmod.com/resources/documentation-api?page=content/generated/overview/3dsound.html#/">3D sounds</a>.</p>
<h2 id="doppler-scale"><a href="#doppler-scale">13.5 Doppler Scale</a></h2>
<p><img alt="Doppler Scale" src="images/dopplerAndScale.png" /></p>
<p>The Doppler scale property is a linear scale factor on the amount of <a href="#pitch">pitch</a> adjustment applied to the event by <a href="#doppler">Doppler</a> when Doppler is enabled. Setting this property to 0% prevents any Doppler effect from being applied to the event.</p>
<p>FMOD Studio requires the game object to be affected by the game's physics engine in order to calculate the velocity. By default, the velocity passed to FMOD Studio is measured in meters-per-second. This unit of measurement can be changed to match what is being used in your game by setting the <code>dopplerscale</code> and <code>distancefactor</code> specified in your game's code. For more information, see the low-level documentation on <a href="https://www.fmod.com/resources/documentation-api?page=content/generated/FMOD_System_Set3DSettings.html#/">System::set3DSettings</a>.</p>
<p>The <a href="#doppler">Doppler</a> property needs to be enabled in order to adjust the Doppler scale property.</p>
<p>Due to needing a velocity in order to apply the Doppler effect to an event, it is not possible to audition the Doppler effect or Doppler scale adjustments within the FMOD Studio tool.</p>
<dl>
<dt><strong>Doppler Scale</strong> (Number Box)</dt>
<dd>Adjusts the amount of pitch applied to the event by the Doppler effect.<br />
<strong>Units</strong>: %<br />
<strong>Range</strong>: 0% to 500%</dd>
</dl>
<p>For more information on the Doppler effect, see the low-level documentation on <a href="https://fmod.com/resources/documentation-api?page=content/generated/overview/3dsound.html#/">3D sounds</a>.</p>
<h2 id="max-instances"><a href="#max-instances">13.6 Max Instances</a></h2>
<p><img alt="Max Instances" src="images/maxEventInstances.png" /></p>
<p>The max instances property sets a limit on how many instances of this event can play simultaneously.</p>
<p>If your game's code attempts to play an instance of the event, and creating that event instance would cause the number of instances of the event to exceed the number set in the event's max instances property, FMOD Studio culls or virtualizes event instances according to the event's <a href="#stealing">stealing</a> property.</p>
<p>This limits the number of simultaneously-playing instances of the event, preventing too many event instances from playing at the same time. This is especially helpful when a game includes frequent collision-triggered events, such as debris objects colliding with a floor following a wall collapse.</p>
<dl>
<dt><strong>Max Instances</strong> (Number Box)</dt>
<dd>Adjusts how many instances of that event can be played at one time.<br />
<strong>Range</strong>: 1 to 64, then &#8734;</dd>
</dl>
<h2 id="stealing"><a href="#stealing">13.7 Stealing</a></h2>
<p><img alt="Stealing" src="images/stealing.png" /></p>
<p>The event's stealing property determines how event instances should be stopped or <span class="dead-link" href="glossary.html#virtualize">virtualized</span class="dead-link"> when the number of simultaneous instances of that event would otherwise exceed its <a href="#max-instances">max instances</a> property.</p>
<p>The stealing behavior can be set to one of the following behaviors:</p>
<blockquote>
<ul>
<li><strong>Oldest</strong>: Stop the event instance that was started the longest time ago.</li>
<li><strong>Furthest</strong>: Stop the event instance that is the furthest away from the listener.</li>
<li><strong>Quietest</strong>: Stop the event instance that is the least audible, taking distance attenuation into consideration.</li>
<li><strong>Virtualize</strong>: The quietest event instances will be virtualized, meaning they are created (if needed) and played but produce no output until an existing event instance stops.</li>
<li><strong>None</strong>: No stealing will occur, therefore no new event instances can be played until an existing event instance stops.</li>
</ul>
</blockquote>
<p>Setting up stealing behavior is important to ensure players do not notice the event instances being affected going silent. For example, stealing the oldest instance is good for when there is lots of frequent collision-triggered events, such as large numbers of debris objects colliding with the floor following a wall collapse. Environmental sounds, such as many torches in a dungeon, would work well with virtualization where the quietest torch will become silent in favor of the closer, louder torches.</p>
<dl>
<dt><strong>Stealing</strong> (Dropdown)</dt>
<dd>Selects the desired behavior once the maximum number of event instances playing has been reached.<br />
<strong>Range</strong>: Oldest, Furthest, Quietest, Virtualize, None</dd>
</dl>
<h2 id="cooldown"><a href="#cooldown">13.8 Cooldown</a></h2>
<p><img alt="Cooldown" src="images/cooldown.png" /></p>
<p>The cooldown property determines how soon an instance of this event can be played after an instance of this event has started to play.</p>
<p>The cooldown property is useful for ensuring two instances of the same event are not played at the same time, which can cause phasing issues. This can be used in situations such as pickup sounds where a player can pickup lots of items at the same time.</p>
<dl>
<dt><strong>Cooldown</strong> (Number Box)</dt>
<dd>The amount of time required to pass before playing an instance of this event again.<br />
<strong>Units</strong>: ms, sec<br />
<strong>Range</strong>: 0.00 ms to 60.0 sec</dd>
</dl>
<h2 id="priority"><a href="#priority">13.9 Priority</a></h2>
<p><img alt="Priority" src="images/priority.png" /></p>
<p>The priority property sets how important this event's instruments are, in terms of <span class="dead-link" href="glossary.html#virtualize">virtualization</span class="dead-link">. Each instrument or playlist item inside an instrument counts as a single voice.</p>
<p>FMOD steals or virtualizes a voice if creating a new voice would otherwise exceed the game engine's voice limit. By assigning priority to your events, you are assigning how important the instruments within them are.</p>
<p>Priority is ranked from "Highest" to "Lowest" and all instruments within the event are grouped by this priority setting. Events that have higher priority will not have their instruments stolen by instruments of events that have a lower priority.</p>
<p>Within groups of event instances of equal priority, higher priority is given to the instruments where the total volume value is higher and the lower priority is given to the instruments where the total volume value is lower. The total volume value is a combination of the event's <a href="glossary.html#master-track">master track's</a> volume setting, the event instance's <a href="https://www.fmod.com/resources/documentation-api?page=content/generated/FMOD_Studio_EventInstance_SetVolume.html#/"><code>setVolume()</code></a> value, the distance attenuation (the attenuation set by the <span class="dead-link" href="effects-reference.html#spatializer">spatializer</span class="dead-link">), the instrument's volume setting, the instrument's peak volume, and any <a href="authoring-events.html#automation-and-modulation">automation</a> and/or <a href="authoring-events.html#automation-and-modulation">modulation</a> related to the volume of the instrument or event.</p>
<p>Setting the event's priority to "Highest" will cause all voices within the event to never virtualize, even if effective volume is zero and <a href="https://www.fmod.com/resources/documentation-api?page=content/generated/FMOD_INITFLAGS.html"><code>vol0virtual</code></a> is enabled.</p>
<p>This property is useful for ensuring instruments of events essential to your game, such as background music and dialogue, are not stolen by instruments of less important events, such as footsteps and ambience.</p>
<dl>
<dt><strong>Priority</strong> (Number Box)</dt>
<dd>Selects how important an event is in regards to stealing and virtualization.<br />
<strong>Range</strong>: Lowest, Low, Medium, High, Highest</dd>
</dl>
<p>For more information on setting priorities, see the low-level documentation on <a href="https://www.fmod.com/resources/documentation-api?page=content/generated/FMOD_STUDIO_EVENT_PROPERTY.html">setting the event properties</a>.</p>
<p>For more information on virtualization, please see the low-level documentation on the <a href="https://www.fmod.com/resources/documentation-api?page=content/generated/overview/virtualvoices.html#/">virtual voice system</a> and the advanced topics chapter <a href="advanced-topics.html#stealing-and-virtualization">stealing and virtualization</a>.</p></div>

<p class="manual-footer">FMOD Studio User Manual 1.10.10 (2018-12-07). &copy; 2018 Firelight Technologies Pty Ltd.</p>
</body>
</html>

</div>
